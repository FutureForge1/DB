# 现代化数据库管理系统 - 桌面应用使用说明

## 简介

现代化数据库管理系统是一个完整的数据库实现，包含SQL编译器、存储引擎和图形用户界面。本系统支持数据持久化，确保在应用关闭后数据不会丢失。

## 启动应用

```bash
python modern_database_manager.py
```

## 功能特性

1. **SQL查询执行** - 支持标准SQL语句的执行
2. **表管理** - 创建、删除、查看表结构和数据
3. **编译器分析** - 查看SQL语句的词法、语法、语义分析过程
4. **存储引擎监控** - 实时查看存储引擎状态和性能统计
5. **数据持久化** - 所有数据都会自动保存到磁盘

## 数据持久化机制

本系统通过以下机制确保数据持久化：

1. **页面存储** - 数据以页面形式存储在磁盘上
2. **缓存管理** - 使用LRU算法管理内存缓存
3. **脏页刷新** - 修改的数据页（脏页）会定期刷新到磁盘
4. **正常关闭** - 应用关闭时会自动刷新所有脏页并保存元数据

## 使用注意事项

为确保数据正确持久化，请注意以下事项：

1. **正常关闭应用** - 使用界面上的"退出"菜单或窗口关闭按钮正常退出应用
2. **避免强制终止** - 不要通过任务管理器强制结束进程，这可能导致数据丢失
3. **定期保存重要查询** - 使用"保存查询"功能保存重要的SQL语句

## 数据存储位置

所有数据存储在应用目录下的以下文件夹中：
- `modern_db/` - 主数据库文件夹
- `desktop_test_db/` - 测试数据库文件夹（如果使用测试功能）

每个文件夹包含：
- `page_*.dat` - 数据页面文件
- `table_schemas.json` - 表结构定义文件
- `metadata.json` - 数据库元数据文件

## 故障排除

如果遇到数据丢失问题，请检查：

1. **是否正常关闭应用** - 确认通过菜单或窗口关闭按钮退出
2. **存储目录权限** - 确保应用有读写存储目录的权限
3. **磁盘空间** - 确保有足够的磁盘空间存储数据
4. **防病毒软件** - 检查防病毒软件是否隔离了数据库文件

## 技术支持

如遇到任何问题，请联系开发团队或查看系统日志文件获取更多信息。